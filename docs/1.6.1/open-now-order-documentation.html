<!-- wp:heading {"level":1} -->
<h1 class="wp-block-heading">Open Now Search Order</h1>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>The Open Now Search Order allows you to sort search results by whether businesses or listings are currently open or closed. Show open listings first to help users find places they can visit right now.</p>
<!-- /wp:paragraph -->

<!-- wp:separator -->
<hr class="wp-block-separator has-alpha-channel-opacity"/>
<!-- /wp:separator -->

<!-- wp:heading -->
<h2 class="wp-block-heading">Overview</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>This custom order-by type integrates with Voxel's search system to prioritize listings based on their real-time open/closed status. It reads from the work hours field and calculates whether each listing is currently open, then sorts accordingly.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading">Key Features</h3>
<!-- /wp:heading -->

<!-- wp:list -->
<ul class="wp-block-list">
<!-- wp:list-item -->
<li>Sort by open/closed status in search results</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>Show open listings first (or closed first if reversed)</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>Support for site timezone or individual post timezone</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>Works with any work hours field</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>Compatible with other order-by options</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>Real-time calculation based on current time</li>
<!-- /wp:list-item -->
</ul>
<!-- /wp:list -->

<!-- wp:separator -->
<hr class="wp-block-separator has-alpha-channel-opacity"/>
<!-- /wp:separator -->

<!-- wp:heading -->
<h2 class="wp-block-heading">Setup Instructions</h2>
<!-- /wp:heading -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading">Step 1: Enable the Order Type</h3>
<!-- /wp:heading -->

<!-- wp:list {"ordered":true} -->
<ol class="wp-block-list">
<!-- wp:list-item -->
<li>Navigate to <strong>Voxel Toolkit &gt; Functions</strong> in your WordPress admin</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>Find <strong>Open Now Order</strong> in the list</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>Toggle the switch to enable</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>Click <strong>Save Changes</strong></li>
<!-- /wp:list-item -->
</ol>
<!-- /wp:list -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading">Step 2: Configure in Post Type</h3>
<!-- /wp:heading -->

<!-- wp:list {"ordered":true} -->
<ol class="wp-block-list">
<!-- wp:list-item -->
<li>Go to <strong>Voxel &gt; Post Types</strong></li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>Select the post type you want to configure</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>Navigate to <strong>Search &gt; Order By</strong></li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>Click <strong>Add Order</strong></li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>Select <strong>Open Now</strong> from the list</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>Configure the settings as described below</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>Save the post type configuration</li>
<!-- /wp:list-item -->
</ol>
<!-- /wp:list -->

<!-- wp:separator -->
<hr class="wp-block-separator has-alpha-channel-opacity"/>
<!-- /wp:separator -->

<!-- wp:heading -->
<h2 class="wp-block-heading">Configuration Settings</h2>
<!-- /wp:heading -->

<!-- wp:table -->
<figure class="wp-block-table"><table><thead><tr><th>Setting</th><th>Description</th><th>Options</th></tr></thead><tbody><tr><td><strong>Work Hours Field</strong></td><td>Select the work hours field to use for open/closed calculation</td><td>Any work-hours type field</td></tr><tr><td><strong>Timezone</strong></td><td>Which timezone to use for calculations</td><td>Site timezone / Post timezone</td></tr><tr><td><strong>Order</strong></td><td>Sort direction</td><td>DESC (open first) / ASC (closed first)</td></tr></tbody></table></figure>
<!-- /wp:table -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading">Timezone Modes</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p><strong>Site Timezone:</strong> Uses your WordPress site's configured timezone for all calculations. Best for local directories where all listings are in the same timezone.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>Post Timezone:</strong> Uses each post's individual timezone setting. Ideal for directories spanning multiple regions or countries where each listing may have its own timezone.</p>
<!-- /wp:paragraph -->

<!-- wp:separator -->
<hr class="wp-block-separator has-alpha-channel-opacity"/>
<!-- /wp:separator -->

<!-- wp:heading -->
<h2 class="wp-block-heading">How It Works</h2>
<!-- /wp:heading -->

<!-- wp:list {"ordered":true} -->
<ol class="wp-block-list">
<!-- wp:list-item -->
<li>When a search is performed, the order type calculates the current minute of the week</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>It queries the work hours table to check which posts have open hours at the current time</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>Posts with matching open hours are marked as "open" (value 1)</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>Posts without matching hours are marked as "closed" (value 0)</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>Results are sorted by this open/closed status</li>
<!-- /wp:list-item -->
</ol>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>The calculation accounts for work hours that span midnight and handles timezone conversions when using post timezone mode.</p>
<!-- /wp:paragraph -->

<!-- wp:separator -->
<hr class="wp-block-separator has-alpha-channel-opacity"/>
<!-- /wp:separator -->

<!-- wp:heading -->
<h2 class="wp-block-heading">Use Cases</h2>
<!-- /wp:heading -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading">Restaurant Directory</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Help hungry users find restaurants that are currently serving by showing open establishments first.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading">Local Business Directory</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Prioritize businesses that users can visit or contact right now, improving the user experience.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading">Service Provider Listings</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Show available service providers first so users can book appointments or services immediately.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading">Multi-Region Directory</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Use post timezone mode for directories spanning multiple time zones to ensure accurate open/closed status for each listing.</p>
<!-- /wp:paragraph -->

<!-- wp:separator -->
<hr class="wp-block-separator has-alpha-channel-opacity"/>
<!-- /wp:separator -->

<!-- wp:heading -->
<h2 class="wp-block-heading">Troubleshooting</h2>
<!-- /wp:heading -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading">Order Not Appearing in Options</h3>
<!-- /wp:heading -->

<!-- wp:list -->
<ul class="wp-block-list">
<!-- wp:list-item -->
<li>Verify the Open Now Order function is enabled in Voxel Toolkit</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>Clear any caching after enabling</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>Re-index your post type if needed</li>
<!-- /wp:list-item -->
</ul>
<!-- /wp:list -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading">Incorrect Open/Closed Status</h3>
<!-- /wp:heading -->

<!-- wp:list -->
<ul class="wp-block-list">
<!-- wp:list-item -->
<li>Check that the correct work hours field is selected</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>Verify the timezone setting matches your use case</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>Confirm posts have work hours data filled in</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>Check your WordPress timezone setting (Settings &gt; General)</li>
<!-- /wp:list-item -->
</ul>
<!-- /wp:list -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading">Post Timezone Not Working</h3>
<!-- /wp:heading -->

<!-- wp:list -->
<ul class="wp-block-list">
<!-- wp:list-item -->
<li>Ensure posts have a timezone field configured</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>Re-index the post type after changing timezone mode</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>Verify the timezone column exists in the index table</li>
<!-- /wp:list-item -->
</ul>
<!-- /wp:list -->

<!-- wp:separator -->
<hr class="wp-block-separator has-alpha-channel-opacity"/>
<!-- /wp:separator -->

<!-- wp:heading -->
<h2 class="wp-block-heading">Requirements</h2>
<!-- /wp:heading -->

<!-- wp:list -->
<ul class="wp-block-list">
<!-- wp:list-item -->
<li>Voxel Theme (active)</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>Voxel Toolkit plugin (enabled)</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>Post type with a work hours field</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>Work hours data entered for listings</li>
<!-- /wp:list-item -->
</ul>
<!-- /wp:list -->

